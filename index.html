<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
     <meta name="viewport"
     content="width=device-width,initial-scale=1.0">

    <!--NOM DU MARCHE SUR L'ONGLET SITE ‚úÖ-->
    
     <title>March√© en ligne</title>
    <style>

        /* STYLE DU SITE OU ENJOLIEMENT DU SITE ‚úÖ*/
        .produits-card {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            padding: 15px;
            transition: 0.3s;
        }
        .produits-card button {
            background: linear-gradient(135deg,#6e8efb,#a777e3);/* D√©grad√© styl√©*/
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;/* prend toute la largeur de la carte*/
            font-weight: 600;
            margin-top: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .produits-card button:hover {
            transform: scale(1.02); /*grossit l√©g√®rement*/
            box-shadow: 0 5px 15px rgba(110, 142, 251, 0.4);
        }
        .produits-card button:active {
            transform: scale(0.98); /*Effet d'enfoncement au clic*/
        }

        body {
            font-family: 'Segoe UI','Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
            color: #333;       
        }
            /* UN SEUL HEADER PROPRE AVEC IMAGE DE FOND */

        .header {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(rgba(44, 62, 80, 0.8),rgba(44, 62, 80, 0.8)), url('hp17.jpg');
            background-size: cover;
            background-position: center;
            color: white;
            margin-bottom: 30px;
            border-radius: 0 0 20px 20px;/* ,Arrodi seulement en bas*/
        }

        .logo h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .container {
            display: flex;
            flex-wrap: wrap;/*permet le apassage √† la ligne automatique*/
            justify-content: center;
            gap: 20px;
        }
        .produits-card {
                background: white;
                width: 280px;
                margin: 20px auto;
                padding: 15px;
                border-radius: 12px;
                box-shadow: 0 4px 15px rgba(0,0,0,0,1);
                text-align: center;
                transition: transform 0.3s ease;
        }
        .produits-card:hover {
            transform: translateY(-5px); /*Petit effet au survol*/
        }
        .produits-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;/* Evite de deformaer les images*/
            border-radius: 8px;
        }
        .prix {
            font-size: 1.2em;
            color: #27ae60;
            font-weight: bold;
            margin: 15px 0;
            }
            .btn-whatsapp {
                display: block;
                background: #25D366;/*Couleur officielle WhatsApp*/
                color: white;
                padding: 10px;
                text-decoration: none;
                border-radius: 5px;
                font-weight: bold;
            }
            .btn-whatsapp:hover{
            background:#128C7E;
          }
          .site-footer {
            background-color: #2c3e50; /* Couleur sombre pro*/
            color: white;
            padding: 40px 20px 20px;
            margin-top: 0px;
            font-family: sans-serif;
          }
          .footer-content {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 0 auto;
          }

          .footer-section h4 {
            color: #3498db;/*Bleu pro pour les titres*/
            margin-bottom: 15px;
            border-bottom: 2px solid #3498db;
            display: inline-block;
          }

          .footer-section ul {
            list-style: none;
            padding: 0;
          }

          .footer-section ul li a {
            color: #bdc3c7;
            text-decoration: none;
            transition: 0.3s;
          }

          .footer-section ul li a :hover {
            color: white;
          }

          .footer-bottom {
            text-align: center;
            margin-top: 30px;
            padding-top: 1px solid #555;
            font-size: 14px;
            color: #bdc3c7;
          }

          .categories {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px;
            flex-wrap: wrap;
          }

          .categories button {
            background: #f8f9fa;
            color: #333;
            border: 1px solid #ddd;
            padding: 10px 25px;
            border-radius: 50px; /*Boutons Arrondis Pillule*/
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
          }
          .categories.button:hover {
            background: #007bff;
            color: white;
            border-color: #007bff;
            transform: translateY(-3px);/* Petit saut vers le haut*/
            box-shadow: 0 4px 12px rgba(0,123,255,0.3);
          }
          .categories button:active {
            transform: scale(0.95);
          }

          /*- Container pour aligner les boutons*/

          .cart-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
            padding: 10px;
          }
          .btn-vider, .btn-commander {
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
          }

          .btn-vider {
            background-color: #f8d7da;
            color: #721c24;
          }

          .btn-vider:hover {
            background-color: #f5c6cb;
            transform: scale(0.98);/* Petit effet de clic*/
          }

          .btn-commander {
            background: linear-gradient(135deg,#128C7E,#075E54);
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.3);
          }

          .btn-commander:hover {
            background: linear-gradient(135deg,#128C7E,#075E54);
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.5);
            transform: translateY(-2px);/*Soul√®vement pro*/
          }

          /* BOUTON POUR L'HISTORIQUE*/

          .btn-history {
            background-color: white;
            border: 2px solid #2c3e50;
            color: #2c3e50;
            padding: 12px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
            transition: 0.3s ease;
          }

          .btn-history:hover {
            background-color: #2c3e50;/* La couleur de fond de mon site*/
            text-decoration: underline;
            color: white;
          }


                     </style>
            <header class="header">

        <!--ENTETE ET NOM DU MARCHE EN LIGNE ‚úÖ-->
            
        <div class="logo">
         <h1>SHOPY</h1>
         <p>EQUIPEMENTS INFORMATIQUES A VOTRE DISPOSITION 24H/24</p>
         </div>

         <!--CLASSEMENT DES PRODUITS PAR CATEGORIE ‚úÖ-->

        <div class="categories" style="text-align: center; margin-bottom: 20px;">
        <button onclick="filterCategory('all')">TOUT</button>
        <button onclick="filterCategory('pc')">PC</button>
        <button onclick="filterCategory('support')">SUPPORTS</button>
        <button onclick="filterCategory('chaussure')">CHAUSSURES</button>
        <button onclick="goToCart()">MON PANIER üõí</button>
       </div>

       <!--LE MENU DE NAVIGATION-->

         <nav class="nav">
            <a href="#produits">Produits</a>
            <a href="#contact">Contact</a>
            <a href="https://wa.me/611476352" target="_blank">WhatsApp</a>
        </nav>

     </header>
        </head>

        <!--SCRIPT POUR AJOUTER DES PRODUITS ‚úÖ-->

    <div class="container" id="produis-container">
    </div>

        <!--MON PANIER-->

        <div id="cart">
        <h3>Mon panierüõí</h3>
        <ul id="cart-items"></ul>

        <!--AFFICHER LE TOTAL DES SOMMES DANS LE PANIER-->

        <p>
            <strong>Total :</strong>
            <span id="cart-total">0</span>
        </p>

        <!--SUPPRIMER  LE PANIER-->

        <div class="cart-actions">
        <button onclick="clearCart()" class="btn-vider">Vider le panierüõí</button> 

        <!--HISTORIQUE DE COMMANDE-->

        <button onclick="ouvrirHistorique()" class="btn-history">HISTORIQUE DE COMMANDE</button>

        <!--COMMANDER LE PANIER-->

        <button  class="btn-commander" onclick="sendCartToWhatsApp()">Commander le panierüõí</button> 
        </div>
        </div>
    
    <div style="height: 150px; overflow: hidden; margin-top: 50px;">
        <svg viewBox="0 0 500 150" preserveAspectRatio="none" style="height: 100%; width: 100%">
            <path d="M0.00,49.98 C149.99,150.00 349.20,-49.98 500.00,49.98 L500.00,150.00 L0.00,150.00 Z" style="stroke: none; fill:#2c3e50;"></path>
        </svg>
    </div>

    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>SHOPY</h4>
                <p> Votre partenaire de confiance pour l'informatique et la mode en Guin√©e.</p>

            </di>

            <div class="footer-section">
                <h4>Contact</h4>
                <p>üìû +224 611 47 63 52</p>
                <p>üìç Conakry, Guin√©e</p>
            </div>

            <div class="footer-section">
                <p>Liens utiles</p>
                <ul>
                    <li><a href="#" onclick="filterCategory('all')">Tous les produits</a></li>
                    <li><a href="#" onclick="goToCart()">Mon panier</a></li>
                </ul>
            </div>
            </div>
                <div class="footer-bottom">
                    <p>&copy;2026 SHOPY - Tous droits r√©serv√©s.</p>
                </div>
            </div>
                </footer>


                     <!--CODE POUR LE JAVASCRIPT-->

         <script>
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            if(!Array.isArray(cart)) {
                cart = [];
            }

            // LA FONCTION POUR FILTRER PAR CATEGORIE‚úÖ

            function filterCategory(category) {
                const produits=document.querySelectorAll('.produits-card');

                produits.forEach(produit => {
                    if (category === 'all' || produit.classList.contains(category)) {
                        produit.style.display = 'block';
                }   else {
                        produit.style.display = 'none';
                    }
                });
            }

            async function chargerCatalogue() {
                try {
                    const reponse = await
                    fetch ('produits.json'); // Elle lit le fichier .json
                    const produits = await reponse.json(); // Elle transforme le texte en liste
                    afficherProduits(produits); // Elle envoie la liste √† l'affichage
                } catch (erreur) {
                    console.error("Erreur de chargement:",erreur);
                    
                }
                // ON DIT AU SITE DE LANSER LE CHARGEMENT DES QU'IL S'OUVRE

                window.onload = chargerCatalogue;
            }
            // FONCTION AFFICHER LES PRODUITS

            function afficherProduits(produits) {
                const conteneur = document.querySelector(".container");
                if(!conteneur) return;

                conteneur.innerHTML=""; // ON effece le message de chargement

                produits.forEach(p => {
                    // on cr√©e la carte html

                    const carte = document.createElement("div");
                    carte.className = `produits-card ${p.cat√©gorie}`;

                    // on ajoute les dataset pour que le bouton ajouter au panier fonctionne

                    carte.setAttribute('data-nom', p.nom);
                    carte.setAttribute('data-prix', p.prix);

                    carte.innerHTML = `
                        <img src ="${p.image}" alt="${p.nom}">
                        <h3>${p.nom}</h3>
                        <p>${p.specs}</p>
                        <div class="prix">${Number(p.prix).toLocaleString()} GNF</div>

                        <button onclick="addToCart(this)">Ajouter au panierüõí</button>
                        <a href="https://wa.me/224611476352?text=${encodeURIComponent("Bonjour SHOPY, je veux commander: " + p.nom)}" class="btn-whatsapp"
                        target="_blank" style="display:block"; background:#25D366; color:white; padding:10px; border-radius: 8px; text-decoration:none; margin-top:10px
                        text-align:center;">Commander via WhatsApp</a>`;

                        conteneur.appendChild(carte);
                    
                    
                });
            }

            // LA FONCTION POUR REDIRIGER VERS LE PANIER‚úÖ

            function goToCart() {

                document.getElementById("cart").scrollIntoView({behavior:"smooth"});
            }

            // LA FONCTION POUR AJOUTER AU PANIER‚úÖ

            function addToCart(button) {
                const card =button.closest(".produits-card");

                const name = card.dataset.nom;
                const price=parseInt(card.dataset.prix);
                cart.push({name:name, price:price});
                localStorage.setItem("cart",JSON.stringify(cart));
                updateCart();
            }

            // LA FONCTION POUR ENREGISTRER LE PANIER

            function updateCart() {
                const list=document.getElementById("cart-items");
                const totalSpan=document.getElementById("cart-total");
           

                list.innerHTML ="";
                let total = 0;
                cart.forEach((item,index) => {
                const li =document.createElement("li");
                li.textContent = `${item.name} - ${item.price.toLocaleString()} GNF`;
                list.appendChild(li);

                // On additionne le prix au total

                total += item.price;
                });

                totalSpan.innerText = total.toLocaleString() + " GNF";
             }

            // LA FONCTION POUR DIRIGER LE PANIER VERS WHATSAPP
        
            function sendCartToWhatsApp() {

                // SI LE PANIER EST VIDE

                if (cart.length === 0) {
                    alert("Le panier est vide ! Veuillez ajouter des produits avant de passer une commande");
                    return;
                }
                let detailProduit =""
                let message = "COMMANDE SHOPY ${orderID}\n\n";
                let totalGlobal = 0;


                // ON AJOUTE CHAQUE PRODUIT DU PANIER

                cart.forEach(item => {
                message += `- ${item.name} : ${item.price.toLocaleString()} GNF\n`;
                totalGlobal += item.price;
                });
                message += `\n*TOTAL: ${totalGlobal.toLocaleString()} GNF*`

                // ON DEFINIT L'URL

                const phone = "224611476352";
                const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;

                // SAUVEGARDE POUR L'HISTORIQUE

                let clientHistory = JSON.parse(localStorage.getItem("Historique")) || [];
                clientHistory.push({date: new Date().toLocaleDateString(), total: totalGlobal.toLocaleString() +"GNF",id: "CMD-" + Math.floor(Math.random()*1000)});
                localStorage.setItem("Historique",JSON.stringify(clientHistory));

                // OUVERTURE DE WHATSAPP

                window.open(url,"_blank");

               // updateCart();
            };

            //CREATION DE LA FONCTION POUR SUPPRIMER UN PRODUIT DANS UN APNIER

            function removeItem(index) {
                cart.splice(index, 1); // Supprime l'article √† la position index
                localStorage.setItem("cart",JSON.stringify(cart));
                updateCart();
            };

            // LA FONCTION POUR DIRE AJOUTER UN PRODUIT SI RIEN DANS LE PRODUIT

            function orderSingleProduct(name, price) {
                if(!name || !price) {
                    alert("Aucune commande faite ! Veuillez selectionner un produit valide.");
                    return;
                }

                let message = `SHOPY: Bonjour, je souhaite commander uniquement ce produit:\n-${name}: ${price.toLocaleString()} GNF`;
                const phone="224611476352";
                const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
                window.open(url, "_blank");
            }

            // FONCTION POUR SUPPRIMER TOUT LE PANIER

            function clearCart() {
                if(confirm("Voulez-vous vraiment vider tout le panier ?")) {
                    cart = [];
                    localStorage.removeItem("cart");
                    updateCart();
                };
            };

            // FONCTION POUR OUVRIR L'HISTORIQUE

            function ouvrirHistorique() {
                let h = JSON.parse(localStorage.getItem("Historique")) || [];
                if (h.length === 0) {
                    alert("Aucune commande dans l'historique");
                    return;
                }

                h.forEach((cmd, index) => {
                     affichage += `${index + 1}.Date: ${cmd.date}\n`;
                     affichage += `Montant: ${cmd.total}\n`;
                     affichage += `R√©f√©rence: ${cmd.id}\n\n`;

                     alert(affichage)

                })
            }
            

        </script>
    </body>
     
    </body>
    </html>